C51 COMPILER V9.00   DELAY                                                                 07/13/2018 11:16:27 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE DELAY
OBJECT MODULE PLACED IN .\Output\Delay.obj
COMPILER INVOKED BY: E:\Program Files\keil5\C51\BIN\C51.EXE Drivers\Delay.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND 
                    -PRINT(.\Listing\Delay.lst) TABS(2) OBJECT(.\Output\Delay.obj)

line level    source

   1          /*****************************************************************
   2          **                   大连理工大学 创新创业学院
   3          **                       物联网应用工坊
   4          **---------------------------------------------------------------
   5          ** 项目名称：   WTZP1.0-BlueBerry
   6          ** 日    期：   2018-07-08
   7          ** 作    者：   温武军
   8          **---------------------------------------------------------------
   9          ** 文 件 名：   Delay.c
  10          ** 文件说明：   延时程序汇总(晶振24Mhz)
  11          *****************************************************************/
  12          
  13          /*---------------------INCLUDES----------------------*/
  14          #include "Delay.h"
  15          
  16          /*---------------------VARIABLES---------------------*/
  17          
  18          
  19          /*---------------------FUNCTIONS---------------------*/
  20          /***********************************************************************
  21          ** 函 数 名： delay10ms(void)
  22          ** 函数说明： 延迟10ms，与晶振有关,此处24Mhz
  23          **---------------------------------------------------------------------
  24          ** 输入参数： 无
  25          ** 返回参数： 无
  26          ***********************************************************************/
  27          void delay10ms(void)   //误差 -0.041666666667us
  28          {
  29   1          unsigned char a,b,c;
  30   1          for(c=134;c>0;c--)
  31   1              for(b=12;b>0;b--)
  32   1                  for(a=73;a>0;a--);
  33   1      }
  34          /***********************************************************************
  35          ** 函 数 名： delay1us(unsigned int b)
  36          ** 函数说明： 延时程序-延时1us,该函数时间与晶振频率有关，此处为24Mhz,不精准
  37          **---------------------------------------------------------------------
  38          ** 输入参数： uint32
  39          ** 返回参数： 无
  40          ***********************************************************************/
  41          void delay1us(unsigned int b)
  42          {
  43   1         while (b--)
  44   1         {
  45   2             _nop_();_nop_();_nop_();_nop_();_nop_(); _nop_();_nop_();_nop_();_nop_();_nop_();
  46   2           _nop_();_nop_();_nop_();_nop_();_nop_(); _nop_();_nop_();_nop_();_nop_();_nop_();
  47   2           _nop_();_nop_();_nop_();_nop_();
  48   2         }
  49   1      }
  50          /***********************************************************************
  51          ** 函 数 名： delay1s()
  52          ** 函数说明： 延时程序-延时1s,该函数时间与晶振频率有关，此处为24Mhz
  53          **---------------------------------------------------------------------
  54          ** 输入参数： 无
C51 COMPILER V9.00   DELAY                                                                 07/13/2018 11:16:27 PAGE 2   

  55          ** 返回参数： 无
  56          ***********************************************************************/
  57          void delay1s(void)   //误差 -0.000000000017us
  58          {
  59   1          unsigned char a,b,c,n;
  60   1          for(c=205;c>0;c--)
  61   1              for(b=230;b>0;b--)
  62   1                  for(a=253;a>0;a--);
  63   1          for(n=14;n>0;n--);
  64   1          _nop_();  
  65   1      }
  66          /***********************************************************************
  67          ** 函 数 名： Delay5us()
  68          ** 函数说明： 延时5微妙
  69          **---------------------------------------------------------------------
  70          ** 输入参数： 无
  71          ** 返回参数： 无
  72          ***********************************************************************/
  73          void Delay5us()
  74          {
  75   1        uint8 n = 120;
  76   1        
  77   1        while (n--);
  78   1      }
  79          
  80          /***********************************************************************
  81          ** 函 数 名： delay_ms
  82          ** 函数说明： 延时k毫秒
  83          **---------------------------------------------------------------------
  84          ** 输入参数： uint16 k
  85          ** 返回参数： 无
  86          ***********************************************************************/
  87          void delay_ms(uint16 k) 
  88          {           
  89   1        uint16 i,j;       
  90   1        for(i=0;i<k;i++)
  91   1        {     
  92   2          for(j=0;j<24000;j++)      
  93   2          {
  94   3            ;
  95   3          }
  96   2        }           
  97   1      }       


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    109    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
