C51 COMPILER V9.00   TIME                                                                  08/23/2018 10:22:19 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE TIME
OBJECT MODULE PLACED IN .\Output\Time.obj
COMPILER INVOKED BY: E:\Program Files\keil5\C51\BIN\C51.EXE Drivers\Time.c LARGE OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEX
                    -TEND PRINT(.\Listing\Time.lst) TABS(2) OBJECT(.\Output\Time.obj)

line level    source

   1          /*****************************************************************
   2          **                   大连理工大学 创新创业学院
   3          **                       物联网应用工坊
   4          **---------------------------------------------------------------
   5          ** 项目名称：   WTZP1.0-BlueBerry
   6          ** 日    期：   2018-07-08
   7          ** 作    者：   温武军
   8          **---------------------------------------------------------------
   9          ** 文 件 名：   Time.c
  10          ** 文件说明：   定时器管理
  11          ** 更新日志：   2018-7-14 定时器1和2
  12          *****************************************************************/
  13          
  14          /*---------------------INCLUDES----------------------*/
  15          #include "Time.h"
  16          
  17          /*---------------------FUNCTIONS---------------------*/
  18          /***********************************************************************
  19          ** 函 数 名： InitTime1()
  20          ** 函数说明： 启动定时器1
  21          **---------------------------------------------------------------------
  22          ** 输入参数： 无
  23          ** 返回参数： 无
  24          ***********************************************************************/
  25          void InitTime1()
  26          {
  27   1        AUXR &= ~(1<<0); //0-选择定时器1, 1-选择定时器2 AUXR |= (1<<0);
  28   1        TMOD = (TMOD&0x0F)|0x00; //定时器1为模式0,16位自动重装
  29   1        AUXR |= (1<<6); //12分频设置
  30   1        TH1 = 0xFD;
  31   1        TL1 = 0x8F; //baud:9600 fosc=24M
  32   1        TR1=1;
  33   1      }
  34          /***********************************************************************
  35          ** 函 数 名： InitTime2()
  36          ** 函数说明： 启动定时器2
  37          **---------------------------------------------------------------------
  38          ** 输入参数： 无
  39          ** 返回参数： 无
  40          ***********************************************************************/
  41          void InitTime2()
  42          {
  43   1        AUXR |= 0x14; //选择定时器2,12分频，定时器2为16位自动重装;
  44   1        T2H = 0xFD;
  45   1        T2L = 0x8E; //baud:9600 fosc=24M
  46   1      }
  47          /***********************************************************************
  48          ** 函 数 名： InitTime3()
  49          ** 函数说明： 启动定时器3
  50          **---------------------------------------------------------------------
  51          ** 输入参数： 无
  52          ** 返回参数： 无
  53          ***********************************************************************/
  54          void InitTime3()
C51 COMPILER V9.00   TIME                                                                  08/23/2018 10:22:19 PAGE 2   

  55          {
  56   1        S3CON = 0x10;   //8位数据,可变波特率
  57   1        T4T3M |= 0x02;    //定时器3时钟为Fosc,即1T
  58   1        T3L = 0x8F;     //baud:9600 fosc=24M
  59   1        T3H = 0xFD;     //
  60   1        T4T3M |= 0x08;    //启动定时器3
  61   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     44    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
